export const description = 'Understanding task rewards and fee distribution in Arbius'

# Task Rewards and Fee Distribution

When a validator successfully solves a task for a mineable model, they receive both fees from the task submitter and mining rewards from the protocol. Understanding how these are calculated and distributed is essential for validators and model creators.

## Fee Distribution (V6)

<Note>**V6 Change**: Validator earnings now automatically compound into their stake instead of being transferred, increasing voting power and simplifying operations.</Note>

### Fee Components

Every task has two fee components:

1. **Model Fee** (`model.fee`) - Set by the model owner
2. **Task Fee** (`task.fee`) - Set by the task submitter (paid by task submitter)

**Important**: The task submitter pays `task.fee`, which must be at least `model.fee`. If `model.fee > task.fee`, the model fee is set to 0 to prevent drainage attacks.

### Distribution Flow

#### Model Fee Split

The model fee is split between treasury and model owner:
- **Treasury portion**: `modelFee × solutionModelFeePercentage`
- **Model owner portion**: `modelFee - treasury portion`

The model owner receives their portion as a direct transfer.

**V6 Per-Model Fee Overrides:**
- Contract owner can set `solutionModelFeePercentageOverride[modelId]` for specific models
- When set, the override percentage is used instead of the global `solutionModelFeePercentage`
- Useful for negotiating custom deals with high-value model providers
- Can be cleared to return to the global default

#### Task Fee Split

The remaining task fee (after model fee) is split between treasury and validator:
- **Remaining fee**: `taskFee - modelFee`
- **Treasury portion**: `remainingFee × solutionFeePercentage`
- **Validator portion**: `remainingFee - treasury portion`

In V6, the validator's portion is added to their staked balance instead of being transferred directly.

### V6 Stake Compounding

All validator earnings are added to their stake:
- Solution fees go to validator stake
- Mining rewards go to validator stake
- Contestation rewards go to validator stake

**Benefits:**
- Automatic compounding of earnings
- Increased voting power over time
- Gas savings from fewer transfers
- Simplified validator operations

To access earnings, use the three-step withdraw process described in the [Validators](/validators) page.

## Mining Rewards

When a task is solved for a mineable model (one with rate greater than 0), the validator receives mining rewards based on the emission schedule.

### Reward Calculation

Mining rewards are calculated using the base reward, model rate, and gauge multiplier from veAIUS voting.

### Reward Distribution (V3+)

Mining rewards are split three ways:
- **Treasury**: Receives `treasuryRewardPercentage` (transferred directly)
- **Task Owner**: Receives `taskOwnerRewardPercentage` (transferred directly)
- **Validator**: Receives the remainder (added to stake in V6)

### veStaking Share (V4+)

Half of all mining rewards go to veStaking for veAIUS holders. The other half is distributed as task rewards as described above.

## Gauge System (V5+)

<Note>veAIUS holders can vote on which models receive mining rewards through the gauge system.</Note>

### How It Works

1. **Gauge Creation**: Models can have gauges created for them
2. **veAIUS Voting**: veAIUS holders vote to direct emissions
3. **Multiplier Calculation**: Vote weight determines the gauge multiplier
4. **Reward Distribution**: Models with higher votes receive more rewards

### Impact on Mining

If a model has no gauge, it receives no mining rewards (only fees). If a model has a gauge, mining rewards are proportional to votes received.

This allows the community to direct emissions to the most valuable models.

## Emission Schedule

### Current Schedule (V5+)

<Note>The emission schedule was doubled in V5 to extend the mining period and increase sustainability.</Note>

The emission schedule follows a 2-year halving period (doubled from 1 year in V5), reaching approximately 99% of supply after 14 years.

**Key Points:**
- 2-year halving period
- Approximately 14 years to reach 99% of supply
- Lower immediate inflation
- More sustainable long-term incentives

### Difficulty Multiplier

The difficulty multiplier adjusts rewards based on actual versus target supply to create a self-balancing emission system.

## Additional Costs for Validators

### Solution Stake (V2+)

When submitting solutions, validators must have both:
1. Validator minimum stake (percentage of supply)
2. Additional `solutionsStakeAmount` per solution

This additional stake is:
- Temporarily locked when a solution is submitted
- Returned to validator stake when successfully claimed
- Forfeited if a contestation against the solution succeeds

**Purpose**: Prevents frivolous solution submissions and ensures validators have skin in the game

### Solution Rate Limit (V3+)

Validators cannot submit solutions too quickly. The minimum wait time is based on the solution rate limit multiplied by the number of solutions.

**Purpose**: Fair distribution of mining opportunities

## Summary

**For Task Submitters:**
- Pay task fee to have task solved
- Receive percentage of mining rewards (if mineable)
- Higher fee means faster solution (validators prioritize)

**For Model Owners:**
- Set model fee to earn from each task
- Split with treasury based on fee percentage
- Can negotiate custom splits via fee overrides (admin only)

**For Validators:**
- Earn fees from tasks (automatically added to stake in V6)
- Earn mining rewards from mineable models (added to stake in V6)
- Higher stake equals more voting power
- Use withdraw process to access accumulated earnings

**For veAIUS Holders:**
- Receive 50% of all mining rewards via veStaking
- Vote on gauge weights to direct model emissions
- Earn proportional to lock duration and amount
